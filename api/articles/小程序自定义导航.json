{"title":"小程序自定义导航","uid":"515eb76b9da7b3d45bad159363b6fea8","slug":"小程序自定义导航","date":"2024-03-14T08:30:15.000Z","updated":"2024-03-15T05:30:02.150Z","comments":true,"path":"api/articles/小程序自定义导航.json","keywords":null,"cover":[],"content":"<h1 id=\"小程序自定义导航\"><a href=\"#小程序自定义导航\" class=\"headerlink\" title=\"小程序自定义导航\"></a>小程序自定义导航</h1><p><img src=\"https://raw.githubusercontent.com/wuyake/BlogImg/master/navbar/27254098-281ba91602e5816c.webp\" alt=\"img\"></p>\n<p><img src=\"https://raw.githubusercontent.com/wuyake/BlogImg/master/navbar/27254098-a338a9c04c33417e.webp\" alt=\"img\"></p>\n<h2 id=\"1，导航组件\"><a href=\"#1，导航组件\" class=\"headerlink\" title=\"1，导航组件\"></a>1，导航组件</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- components/my-component/index.<span class=\"property\">wxml</span> --&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;topbar&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;background: &#123;&#123;imgdata.bgcolor&#125;&#125;;padding-top:&#123;&#123; statusBarHeight &#125;&#125;px ;&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tb_body&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;set row&quot;</span> <span class=\"attr\">wx:if</span>=<span class=\"string\">&quot;&#123;&#123;setting&#125;&#125;&quot;</span> <span class=\"attr\">bindtap</span>=<span class=\"string\">&quot;setClick&quot;</span>&gt;</span>&#123;&#123; setting &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">wx:if</span>=<span class=\"string\">&quot;&#123;&#123;back&#125;&#125;&quot;</span> <span class=\"attr\">bindtap</span>=<span class=\"string\">&quot;callback&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&#123;&#123;back&#125;&#125;&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;width:48rpx;height:48rpx;margin-left: 30rpx;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">image</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">wx:if</span>=<span class=\"string\">&quot;&#123;&#123;home&#125;&#125;&quot;</span> <span class=\"attr\">bindtap</span>=<span class=\"string\">&quot;callhome&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&#123;&#123;home&#125;&#125;&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;width:64rpx;height:64rpx;margin-left: 36rpx;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">image</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;title row&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;color: &#123;&#123;title.color&#125;&#125;&quot;</span>&gt;</span>&#123;&#123; title.title &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!-- <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">  <span class=\"tag\">&lt;<span class=\"name\">cover-image</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">bindload</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">binderror</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">     mode=&quot;widthFix&quot;</span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">  <span class=\"tag\">&lt;/<span class=\"name\">cover-image</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span> --&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;bg_head&quot;</span> <span class=\"attr\">wx:if</span>=<span class=\"string\">&quot;&#123;&#123;imgdata.path&#125;&#125;&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&#123;&#123;imgdata.path&#125;&#125;&quot;</span> <span class=\"attr\">bindload</span>=<span class=\"string\">&quot;imgInfo&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;width:&#123;&#123;imgdata.width&#125;&#125;;height:&#123;&#123;imgdata.height&#125;&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">image</span>&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;top-comend&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;padding-top:&#123;&#123; statusBarHeight &#125;&#125;px&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> app = <span class=\"title function_\">getApp</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Component</span>(&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">   * 组件的属性列表</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">properties</span>: &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">setting</span>: &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"attr\">type</span>: <span class=\"title class_\">String</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"attr\">value</span>: <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">title</span>: &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"attr\">type</span>: <span class=\"title class_\">Object</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"attr\">value</span>: &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"attr\">color</span>: <span class=\"string\">&#x27;#fff&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"attr\">title</span>: <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">imgdata</span>: &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"attr\">type</span>: <span class=\"title class_\">Object</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"attr\">value</span>: &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"attr\">path</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"attr\">width</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"attr\">height</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"attr\">bgcolor</span>: <span class=\"string\">&#x27;#fff&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">back</span>: &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"attr\">type</span>: <span class=\"title class_\">String</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"attr\">value</span>: <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">home</span>: &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"attr\">type</span>: <span class=\"title class_\">String</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"attr\">value</span>: <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">   * 组件的初始数据</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">data</span>: &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">statusBarHeight</span>: app.<span class=\"property\">globalData</span>.<span class=\"property\">statusBarHeight</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">imgwidth</span>: <span class=\"number\">0</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">imgheight</span>: <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">ready</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// console.log(this.data.imgdata);</span></span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">   * 组件的方法列表</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">imageLoad</span>: <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">var</span> _this = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">var</span> $width = e.<span class=\"property\">detail</span>.<span class=\"property\">width</span>, <span class=\"comment\">//获取图片真实宽度</span></span><br><span class=\"line\"></span><br><span class=\"line\">        $height = e.<span class=\"property\">detail</span>.<span class=\"property\">height</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">        ratio = $width / $height; <span class=\"comment\">//图片的真实宽高比例</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">var</span> viewWidth = <span class=\"number\">500</span>, <span class=\"comment\">//设置图片显示宽度，</span></span><br><span class=\"line\"></span><br><span class=\"line\">        viewHeight = <span class=\"number\">500</span> / ratio; <span class=\"comment\">//计算的高度值</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"title function_\">setData</span>(&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"attr\">imgwidth</span>: viewWidth,</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"attr\">imgheight</span>: viewHeight</span><br><span class=\"line\"></span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title function_\">setClick</span>(<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"title function_\">triggerEvent</span>(<span class=\"string\">&#x27;setBtn&#x27;</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title function_\">callback</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">      wx.<span class=\"title function_\">navigateBack</span>(&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"attr\">delta</span>: <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title function_\">callhome</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">      wx.<span class=\"title function_\">switchTab</span>(&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"attr\">url</span>: <span class=\"string\">&#x27;/pages/home/index&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 背景图回调</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">imgInfo</span>: <span class=\"keyword\">function</span> (<span class=\"params\">event</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// this.setData(&#123;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">//   imgWidth:event.detail.width,</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">//   imgHeight:event.detail.height</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// &#125;)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* components/my-component/index.wxss */</span></span><br><span class=\"line\"></span><br><span class=\"line\">.<span class=\"property\">topbar</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">width</span>: <span class=\"number\">100</span>%;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">height</span>: 88rpx;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* background-color: pink; */</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">position</span>: fixed;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">left</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  z-<span class=\"attr\">index</span>: <span class=\"number\">999</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.<span class=\"property\">tb_body</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">height</span>: <span class=\"number\">100</span>%;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">display</span>: flex;</span><br><span class=\"line\"></span><br><span class=\"line\">  justify-<span class=\"attr\">content</span>: space-between;</span><br><span class=\"line\"></span><br><span class=\"line\">  align-<span class=\"attr\">items</span>: center;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.<span class=\"property\">row</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  font-<span class=\"attr\">size</span>: 32rpx;</span><br><span class=\"line\"></span><br><span class=\"line\">  font-<span class=\"attr\">family</span>: <span class=\"title class_\">PingFangSC</span>, <span class=\"title class_\">PingFangSC</span>-<span class=\"title class_\">Semibold</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  font-<span class=\"attr\">weight</span>: <span class=\"number\">600</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">color</span>: #ffffff;</span><br><span class=\"line\"></span><br><span class=\"line\">  line-<span class=\"attr\">height</span>: 50rpx;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.<span class=\"property\">set</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  font-<span class=\"attr\">weight</span>: <span class=\"number\">400</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  margin-<span class=\"attr\">left</span>: 60rpx;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.<span class=\"property\">title</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">position</span>: absolute;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">width</span>: <span class=\"number\">100</span>%;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/* text-align: center; */</span></span><br><span class=\"line\"></span><br><span class=\"line\">  padding-<span class=\"attr\">left</span>: 120rpx;</span><br><span class=\"line\"></span><br><span class=\"line\">  z-<span class=\"attr\">index</span>: -<span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.<span class=\"property\">top</span>-comend &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">width</span>: <span class=\"number\">100</span>%;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">height</span>: 88rpx;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.<span class=\"property\">bg_head</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">position</span>: absolute;</span><br><span class=\"line\"></span><br><span class=\"line\">  z-<span class=\"attr\">index</span>: -<span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<h2 id=\"2，app-js配置\"><a href=\"#2，app-js配置\" class=\"headerlink\" title=\"2，app.js配置\"></a>2，app.js配置</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 获取高度</span></span><br><span class=\"line\"></span><br><span class=\"line\">    wx.<span class=\"title function_\">getSystemInfo</span>(&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"attr\">success</span>: <span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">globalData</span>.<span class=\"property\">height</span> = res.<span class=\"property\">statusBarHeight</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"3，使用\"><a href=\"#3，使用\" class=\"headerlink\" title=\"3，使用\"></a>3，使用</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"string\">&quot;usingComponents&quot;</span>: &#123;  <span class=\"string\">&quot;component-tag-name&quot;</span>: <span class=\"string\">&quot;/components/my-component&quot;</span>,  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;navigationStyle&quot;</span>: <span class=\"string\">&quot;custom&quot;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">data</span>: &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">imgdata</span>: &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/images/profile/pfbg.png&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"attr\">width</span>: <span class=\"string\">&#x27;100%&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"attr\">height</span>: <span class=\"string\">&#x27;736rpx&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;  &#125;,</span><br></pre></td></tr></table></figure>\n\n","text":"小程序自定义导航 1，导航组件12345678910111213141516171819202122232425262728293031323334353637...","permalink":"/post/小程序自定义导航","photos":[],"count_time":{"symbolsCount":"5.4k","symbolsTime":"5 mins."},"categories":[{"name":"前端","slug":"前端","count":11,"path":"api/categories/前端.json"}],"tags":[{"name":"小程序","slug":"小程序","count":3,"path":"api/tags/小程序.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AF%BC%E8%88%AA\"><span class=\"toc-text\">小程序自定义导航</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1%EF%BC%8C%E5%AF%BC%E8%88%AA%E7%BB%84%E4%BB%B6\"><span class=\"toc-text\">1，导航组件</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2%EF%BC%8Capp-js%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">2，app.js配置</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3%EF%BC%8C%E4%BD%BF%E7%94%A8\"><span class=\"toc-text\">3，使用</span></a></li></ol></li></ol>","author":{"name":"WuYa","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/53419296?v=4","link":"/","description":"一位正在记笔记的人","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"小程序自定义tabbar","uid":"ba79f23e67cd01a5c0924f8663f61aff","slug":"小程序自定义tabbar","date":"2024-03-14T08:30:15.000Z","updated":"2024-03-14T09:10:11.029Z","comments":true,"path":"api/articles/小程序自定义tabbar.json","keywords":null,"cover":null,"text":"小程序自定义tabbar1，自定义tabbar组件1234567891011121314151617181920212223242526272829303132...","permalink":"/post/小程序自定义tabbar","photos":[],"count_time":{"symbolsCount":"3.8k","symbolsTime":"3 mins."},"categories":[{"name":"前端","slug":"前端","count":11,"path":"api/categories/前端.json"}],"tags":[{"name":"小程序","slug":"小程序","count":3,"path":"api/tags/小程序.json"}],"author":{"name":"WuYa","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/53419296?v=4","link":"/","description":"一位正在记笔记的人","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"搜索框的防抖和节流","uid":"4c7ce13c917059478f31fe5eaf02636d","slug":"搜索框的防抖和节流","date":"2024-03-14T08:30:15.000Z","updated":"2024-03-14T08:40:47.520Z","comments":true,"path":"api/articles/搜索框的防抖和节流.json","keywords":null,"cover":null,"text":"搜索框的防抖和节流1，防抖闭包函数123456789101112131415161718192021222324252627282930313233343536...","permalink":"/post/搜索框的防抖和节流","photos":[],"count_time":{"symbolsCount":850,"symbolsTime":"1 mins."},"categories":[{"name":"前端","slug":"前端","count":11,"path":"api/categories/前端.json"}],"tags":[{"name":"Javascript","slug":"Javascript","count":4,"path":"api/tags/Javascript.json"}],"author":{"name":"WuYa","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/53419296?v=4","link":"/","description":"一位正在记笔记的人","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}
{"title":"时间格式化&指定几天前时间","uid":"c3a4e3c0eb5ef6020f00420943ce1aca","slug":"时间格式化&指定几天前时间","date":"2024-03-14T08:30:15.000Z","updated":"2024-03-14T08:38:07.272Z","comments":true,"path":"api/articles/时间格式化&指定几天前时间.json","keywords":null,"cover":null,"content":"<h1 id=\"时间格式化-指定几天前时间\"><a href=\"#时间格式化-指定几天前时间\" class=\"headerlink\" title=\"时间格式化&amp;指定几天前时间\"></a>时间格式化&amp;指定几天前时间</h1><h2 id=\"1，时间格式化\"><a href=\"#1，时间格式化\" class=\"headerlink\" title=\"1，时间格式化\"></a>1，时间格式化</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">formatDate</span>(<span class=\"params\">time,format=<span class=\"string\">&#x27;YY-MM-DD hh:mm:ss&#x27;</span></span>)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(time);</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"keyword\">var</span> year = date.<span class=\"title function_\">getFullYear</span>(),</span><br><span class=\"line\"></span><br><span class=\"line\">     month = date.<span class=\"title function_\">getMonth</span>()+<span class=\"number\">1</span>,<span class=\"comment\">//月份是从0开始的</span></span><br><span class=\"line\"></span><br><span class=\"line\">     day = date.<span class=\"title function_\">getDate</span>(),</span><br><span class=\"line\"></span><br><span class=\"line\">     hour = date.<span class=\"title function_\">getHours</span>(),</span><br><span class=\"line\"></span><br><span class=\"line\">     min = date.<span class=\"title function_\">getMinutes</span>(),</span><br><span class=\"line\"></span><br><span class=\"line\">     sec = date.<span class=\"title function_\">getSeconds</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"keyword\">var</span> preArr = <span class=\"title class_\">Array</span>.<span class=\"title function_\">apply</span>(<span class=\"literal\">null</span>,<span class=\"title class_\">Array</span>(<span class=\"number\">10</span>)).<span class=\"title function_\">map</span>(<span class=\"keyword\">function</span>(<span class=\"params\">elem, index</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"keyword\">return</span> <span class=\"string\">&#x27;0&#x27;</span>+index;</span><br><span class=\"line\"></span><br><span class=\"line\">     &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">     开个长度为<span class=\"number\">10</span>的数组 格式为 <span class=\"number\">00</span> <span class=\"number\">01</span> <span class=\"number\">02</span> <span class=\"number\">03</span></span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"keyword\">var</span> newTime = format.<span class=\"title function_\">replace</span>(<span class=\"regexp\">/YY/g</span>,year)</span><br><span class=\"line\"></span><br><span class=\"line\">            .<span class=\"title function_\">replace</span>(<span class=\"regexp\">/MM/g</span>,preArr[month]||month)</span><br><span class=\"line\"></span><br><span class=\"line\">            .<span class=\"title function_\">replace</span>(<span class=\"regexp\">/DD/g</span>,preArr[day]||day)</span><br><span class=\"line\"></span><br><span class=\"line\">            .<span class=\"title function_\">replace</span>(<span class=\"regexp\">/hh/g</span>,preArr[hour]||hour)</span><br><span class=\"line\"></span><br><span class=\"line\">            .<span class=\"title function_\">replace</span>(<span class=\"regexp\">/mm/g</span>,preArr[min]||min)</span><br><span class=\"line\"></span><br><span class=\"line\">           .<span class=\"title function_\">replace</span>(<span class=\"regexp\">/ss/g</span>,preArr[sec]||sec);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">return</span> newTime;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">formatDate</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">getTime</span>());<span class=\"comment\">//2017-05-12 10:05:44</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">formatDate</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">getTime</span>(),<span class=\"string\">&#x27;YY年MM月DD日&#x27;</span>);<span class=\"comment\">//2017年05月12日</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">formatDate</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">getTime</span>(),<span class=\"string\">&#x27;今天是YY/MM/DD hh:mm:ss&#x27;</span>);<span class=\"comment\">//今天是2017/05/12 10:07:45</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"2，指定几天前时间\"><a href=\"#2，指定几天前时间\" class=\"headerlink\" title=\"2，指定几天前时间\"></a>2，指定几天前时间</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">getTimeAgo</span>(<span class=\"params\">number</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">let</span> curTime = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>().<span class=\"title function_\">getTime</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">let</span> startDate = curTime - (number * <span class=\"number\">3600</span> * <span class=\"number\">24</span> * <span class=\"number\">1000</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> startDate</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n","text":"时间格式化&指定几天前时间1，时间格式化123456789101112131415161718192021222324252627282930313233343...","permalink":"/post/时间格式化&指定几天前时间","photos":[],"count_time":{"symbolsCount":"1.2k","symbolsTime":"1 mins."},"categories":[{"name":"前端","slug":"前端","count":11,"path":"api/categories/前端.json"}],"tags":[{"name":"Javascript","slug":"Javascript","count":4,"path":"api/tags/Javascript.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F%E5%8C%96-%E6%8C%87%E5%AE%9A%E5%87%A0%E5%A4%A9%E5%89%8D%E6%97%B6%E9%97%B4\"><span class=\"toc-text\">时间格式化&amp;指定几天前时间</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1%EF%BC%8C%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F%E5%8C%96\"><span class=\"toc-text\">1，时间格式化</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2%EF%BC%8C%E6%8C%87%E5%AE%9A%E5%87%A0%E5%A4%A9%E5%89%8D%E6%97%B6%E9%97%B4\"><span class=\"toc-text\">2，指定几天前时间</span></a></li></ol></li></ol>","author":{"name":"WuYa","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/53419296?v=4","link":"/","description":"一位正在记笔记的人","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"小程序视频封面，切换播放并显示封面","uid":"ef423aef0aaabd6ebda2b8c384fcffef","slug":"小程序视频封面，切换播放并显示封面","date":"2024-03-14T08:30:15.000Z","updated":"2024-03-14T09:10:06.561Z","comments":true,"path":"api/articles/小程序视频封面，切换播放并显示封面.json","keywords":null,"cover":null,"text":"小程序视频封面，切换播放并显示封面 需求 默认显示封面； 一个视频播放的时候，其他视频停止播放，并显示封面。 思路 通过wx:if判断当前视频是否是播放的状态，...","permalink":"/post/小程序视频封面，切换播放并显示封面","photos":[],"count_time":{"symbolsCount":"2.9k","symbolsTime":"3 mins."},"categories":[{"name":"前端","slug":"前端","count":11,"path":"api/categories/前端.json"}],"tags":[{"name":"小程序","slug":"小程序","count":3,"path":"api/tags/小程序.json"}],"author":{"name":"WuYa","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/53419296?v=4","link":"/","description":"一位正在记笔记的人","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Three问题清单","uid":"a37c7e744e3e8b3e1324c5d144712ec0","slug":"Three问题清单","date":"2020-08-15T10:49:36.000Z","updated":"2024-04-22T03:28:24.026Z","comments":true,"path":"api/articles/Three问题清单.json","keywords":null,"cover":null,"text":"Three问题清单 删除2，3d数据dom会跟着删除 检测数组如果直接存精灵，会出现精灵已经删除，还是会被射线检测到问题，改正后存在group中再放入检测数组 ...","permalink":"/post/Three问题清单","photos":[],"count_time":{"symbolsCount":135,"symbolsTime":"1 mins."},"categories":[{"name":"前端","slug":"前端","count":11,"path":"api/categories/前端.json"}],"tags":[{"name":"Threejs","slug":"Threejs","count":2,"path":"api/tags/Threejs.json"}],"author":{"name":"WuYa","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/53419296?v=4","link":"/","description":"一位正在记笔记的人","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}
{"title":"搜索框的防抖和节流","uid":"4c7ce13c917059478f31fe5eaf02636d","slug":"搜索框的防抖和节流","date":"2024-03-14T08:30:15.000Z","updated":"2024-03-14T08:40:47.520Z","comments":true,"path":"api/articles/搜索框的防抖和节流.json","keywords":null,"cover":null,"content":"<h1 id=\"搜索框的防抖和节流\"><a href=\"#搜索框的防抖和节流\" class=\"headerlink\" title=\"搜索框的防抖和节流\"></a>搜索框的防抖和节流</h1><h2 id=\"1，防抖闭包函数\"><a href=\"#1，防抖闭包函数\" class=\"headerlink\" title=\"1，防抖闭包函数\"></a>1，防抖闭包函数</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// const fangdou = (() =&gt; &#123;</span></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">//    let  timeId = &#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">//    return (val) =&gt; &#123;</span></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">//        clearTimeout(timeId)</span></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">//        timeId = setTimeout(() =&gt; &#123;</span></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">//            console.log(val)</span></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">//        &#125;, 1000)</span></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">//    &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">// &#125;)()</span></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">// 防抖函数不用闭包  污染全局变量</span></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">let</span> timeId = <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">const</span> <span class=\"title function_\">fangdou</span> = (<span class=\"params\">val</span>) =&gt; &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"built_in\">clearTimeout</span>(timeId)</span><br><span class=\"line\"></span><br><span class=\"line\">       timeId = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">           <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(val)</span><br><span class=\"line\"></span><br><span class=\"line\">       &#125;, <span class=\"number\">1000</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"2，节流\"><a href=\"#2，节流\" class=\"headerlink\" title=\"2，节流\"></a>2，节流</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> pass = <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">const</span> <span class=\"title function_\">jieliu</span> = (<span class=\"params\">val</span>) =&gt; &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"keyword\">if</span> (pass) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">           <span class=\"keyword\">return</span></span><br><span class=\"line\"></span><br><span class=\"line\">       &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">       pass = <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">           <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(val)</span><br><span class=\"line\"></span><br><span class=\"line\">           pass = <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\">       &#125;, <span class=\"number\">1000</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n\n","text":"搜索框的防抖和节流1，防抖闭包函数123456789101112131415161718192021222324252627282930313233343536...","permalink":"/post/搜索框的防抖和节流","photos":[],"count_time":{"symbolsCount":850,"symbolsTime":"1 mins."},"categories":[{"name":"前端","slug":"前端","count":11,"path":"api/categories/前端.json"}],"tags":[{"name":"Javascript","slug":"Javascript","count":4,"path":"api/tags/Javascript.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%90%9C%E7%B4%A2%E6%A1%86%E7%9A%84%E9%98%B2%E6%8A%96%E5%92%8C%E8%8A%82%E6%B5%81\"><span class=\"toc-text\">搜索框的防抖和节流</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1%EF%BC%8C%E9%98%B2%E6%8A%96%E9%97%AD%E5%8C%85%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">1，防抖闭包函数</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2%EF%BC%8C%E8%8A%82%E6%B5%81\"><span class=\"toc-text\">2，节流</span></a></li></ol></li></ol>","author":{"name":"WuYa","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/53419296?v=4","link":"/","description":"一位正在记笔记的人","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"小程序自定义导航","uid":"515eb76b9da7b3d45bad159363b6fea8","slug":"小程序自定义导航","date":"2024-03-14T08:30:15.000Z","updated":"2024-03-15T05:30:02.150Z","comments":true,"path":"api/articles/小程序自定义导航.json","keywords":null,"cover":[],"text":"小程序自定义导航 1，导航组件12345678910111213141516171819202122232425262728293031323334353637...","permalink":"/post/小程序自定义导航","photos":[],"count_time":{"symbolsCount":"5.4k","symbolsTime":"5 mins."},"categories":[{"name":"前端","slug":"前端","count":11,"path":"api/categories/前端.json"}],"tags":[{"name":"小程序","slug":"小程序","count":3,"path":"api/tags/小程序.json"}],"author":{"name":"WuYa","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/53419296?v=4","link":"/","description":"一位正在记笔记的人","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"小程序视频封面，切换播放并显示封面","uid":"ef423aef0aaabd6ebda2b8c384fcffef","slug":"小程序视频封面，切换播放并显示封面","date":"2024-03-14T08:30:15.000Z","updated":"2024-03-14T09:10:06.561Z","comments":true,"path":"api/articles/小程序视频封面，切换播放并显示封面.json","keywords":null,"cover":null,"text":"小程序视频封面，切换播放并显示封面 需求 默认显示封面； 一个视频播放的时候，其他视频停止播放，并显示封面。 思路 通过wx:if判断当前视频是否是播放的状态，...","permalink":"/post/小程序视频封面，切换播放并显示封面","photos":[],"count_time":{"symbolsCount":"2.9k","symbolsTime":"3 mins."},"categories":[{"name":"前端","slug":"前端","count":11,"path":"api/categories/前端.json"}],"tags":[{"name":"小程序","slug":"小程序","count":3,"path":"api/tags/小程序.json"}],"author":{"name":"WuYa","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/53419296?v=4","link":"/","description":"一位正在记笔记的人","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}